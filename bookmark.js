!function(){function e(e){window.toZip.push(e),console.log("viewTypes to be zipped: "+window.toZip)}function t(e){for(var t=0;t<window.toZip.length;t++)if(window.toZip[t]===e){window.toZip.splice(t,1);break}console.log("viewTypes to be zipped: "+window.toZip)}function i(e){for(var t=0;t<d.length;t++)if(d[t][0]+"_"+d[t][3]===e)return d[t]}function n(e){var t=i(e);if("csv"===t[3]){var n=new Blob([t[2]],{type:"text/plain;charset=utf-8"});saveAs(n,t[0]+"."+t[3])}else if("html"===t[3]){var n=new Blob([t[2]],{type:"text/html;charset=utf-8"});saveAs(n,t[0]+"."+t[3])}else if("svg"===t[3]){var o='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',l=(new XMLSerializer).serializeToString(t[2]),n=new Blob([o+l],{type:"image/svg+xml;charset=utf-8"});saveAs(n,t[0]+"."+t[3])}}function o(){document.querySelector("#dlPopup").querySelectorAll('input[type="checkbox"]');[].forEach(function(e){e.click()}),console.log("showiiing-yum ( not chewing gum ! )")}function l(e){o(),x.style.right="0px"}var r=document.createElement("script");r.src="https://cdn.rawgit.com/eligrey/FileSaver.js/master/FileSaver.js",document.body.appendChild(r);var s=document.createElement("script");s.src="https://cdn.rawgit.com/Stuk/jszip/master/dist/jszip.min.js",document.body.appendChild(s);var a=document.querySelector(".js-circuit-menu-title").textContent||document.querySelector(".vertical-spacing--title").textContent.substr(0,document.querySelector(".vertical-spacing--title").textContent.indexOf("|")-3),c=document.querySelectorAll("div.sitemenu__right__item--editor"),p=c[1].querySelectorAll("a"),d=[];[].forEach.call(p,function(e){"bom"!==e.href.substr(e.href.indexOf("#")+1)&&d.push([e.href.substr(e.href.indexOf("#")+1),e.querySelector("svg"),document.querySelector(e.href.substr(e.href.indexOf("#"))+"Tab").querySelector("svg"),"svg"])});var u=document.querySelector('a[href="#bom"]');u.click();var h=document.querySelector("table.bom__table"),g=h.innerText.replace(/\s{8}/g,"	").replace(/\s{3,}/g,"\n").replace(/\t{1,}/g,",");g.replace(/,\n/g,',""\n'),g.endsWith(",")&&(g+='""\n'),d.push([u.href.substr(u.href.indexOf("#")+1),u.querySelector("svg"),(new XMLSerializer).serializeToString(h),"html"],[u.href.substr(u.href.indexOf("#")+1),u.querySelector("svg"),a+" - Bill Of Materials\n"+g,"csv"]);var m=document.createElement("ul");m.style.paddingLeft="0px",d.forEach(function(i){var o=document.createElement("li");o.className="circuit-view",o.setAttribute("data-viewType",i[0]),o.setAttribute("data-viewExt",i[3]),o.style.display="block",o.style.height="50px";var l=document.createElement("input");l.type="checkbox",l.id=i[0],l.style["float"]="left",l.style.marginTop="2.5px",l.style.marginRight="10px",l.style.width=l.style.height="50px",l.style.marginTop="0px",l.style.opacity="0",l.style.cursor="pointer",l.onchange=function(){console.log("CHECKBOX CHANGE HAPPENED !"),this.checked?(e(this.parentElement.getAttribute("data-viewType")+"_"+this.parentElement.getAttribute("data-viewExt")),this.nextSibling.innerHTML="&#10003;",this.nextSibling.style.color="#0696D7",this.nextSibling.nextSibling.style.color="#0696D7"):(t(this.parentElement.getAttribute("data-viewType")+"_"+this.parentElement.getAttribute("data-viewExt")),this.nextSibling.innerHTML="&#9675;",this.nextSibling.style.color="#C5CFD9",this.nextSibling.nextSibling.style.color="#C5CFD9")};var r=document.createElement("div");r.style.pointerEvents="none",r.className="sitemenu__view_switch sitemenu__svg_block_btn",r.style["float"]="left",r.style.marginLeft="-62px",r.innerHTML="&#9675;",r.style.color="rgb(197, 207, 217);",r.style.fontSize="30px",r.style.textAlign="center",r.style.lineHeight="50px",r.onmouseenter=function(){this.setAttribute("data-glyph",this.innerHTML),this.innerHTML="&#10003;",console.log("iconDiv mouse enter happened !")},r.onmouseleave=function(){this.innerHTML=this.getAttribute("data-glyph"),console.log("iconDiv mouse leave happened !")};var s=document.createElement("a");s.textContent=i[0],"bom"===i[0]?s.textContent=i[0]+" (."+i[3]+")":s.textContent=i[0],s.style.display="block",s.style.lineHeight="50px",s.style.fontSize="20px",s.onclick=function(){console.log(this.parentElement.getAttribute("data-viewType")+" to be savedAs !"),n(this.parentElement.getAttribute("data-viewType")+"_"+this.parentElement.getAttribute("data-viewExt"))},s.onmouseover=function(){this.setAttribute("data-color",this.style.color),this.style.color="#0696D7",console.log("dlLink mouse over happened !")},s.onmouseout=function(){this.style.color=this.getAttribute("data-color"),console.log("dlLink mouse out happened !")},o.appendChild(l),o.appendChild(r),o.appendChild(s),m.appendChild(o)});var y=document.createElement("h4");y.textContent="Export options",y.style.fontFamily='"Roboto",sans-serif',y.style.fontWeight="500",y.style.paddingTop="18px",y.style.textAlign="center";var v=document.createElement("a");v.textContent=a.replace(/ /g,"_")+".zip",v.style.textOverflow="ellipsis";var f=document.createElement("p");f.innerHTML="click to download,<br> tick to add to .zip",f.style.textAlign="center",f.style.fontSize="15px";var x=document.createElement("div");x.id="dlPopup",x.appendChild(y),x.appendChild(f),x.appendChild(m),x.appendChild(v),x.style.zIndex=1e3,x.style.position="absolute",x.style.backgroundColor="white",x.style.right="0px",x.style.top="48px",x.style.borderTop="1px solid #C5CFD9",x.style.width="192px",x.style.paddingTop="5.5px",x.style.paddingLeft="5.5px",x.style.paddingBottom="5.5px",x.style.right="-200px",x.style.webkitTransition="right 500ms ease-out",document.body.appendChild(x),window.toZip=[],v.onclick=function(){console.log("get the items names from toZip array & zim 'em all ! ");for(var e=new JSZip,t=0;t<window.toZip.length;t++){var n=i(window.toZip[t]);if("csv"===n[3])e.file(n[0]+"."+n[3],n[2]+"\n");else if("html"===n[3])e.file(n[0]+"."+n[3],n[2]);else if("svg"===n[3]){var o='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',l=(new XMLSerializer).serializeToString(n[2]);e.file(n[0]+"."+n[3],o+l)}}var r=e.generate({type:"blob"});saveAs(r,a.replace(/ /g,"_")+".zip")},setTimeout(function(){l()},500)}();
